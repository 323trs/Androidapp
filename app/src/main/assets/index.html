<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tap Circle Game</title>
  <style>
    html,body { margin:0; padding:0; height:100%; background:#111; color:#fff; font-family:sans-serif }
    canvas { display:block; width:100%; height:100vh }
    #hud { position:absolute; left:12px; top:12px; font-size:18px }
    #hud .score { color:#ffd700 }
  </style>
</head>
<body>
<div id="hud">Score: <span class="score">0</span> &nbsp; Time: <span class="time">30</span>s</div>
<canvas id="game"></canvas>
<script>
(function(){
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');
  const scoreEl = document.querySelector('#hud .score');
  const timeEl = document.querySelector('#hud .time');

  let W, H;
  function resize(){
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resize);
  resize();

  let circle = { x: W/2, y: H/2, r: 40, vx: 300, vy: 200 };
  let last = performance.now();
  let score = 0;
  let timeLeft = 30; // seconds
  let running = true;

  function spawn() {
    circle.r = 30 + Math.random()*40;
    circle.x = circle.r + Math.random()*(W-2*circle.r);
    circle.y = circle.r + Math.random()*(H-2*circle.r);
    circle.vx = (Math.random()*2-1) * (150 + Math.random()*300);
    circle.vy = (Math.random()*2-1) * (150 + Math.random()*300);
  }

  spawn();

  canvas.addEventListener('pointerdown', function(e){
    if(!running) return;
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const dx = x - circle.x;
    const dy = y - circle.y;
    if(dx*dx + dy*dy <= circle.r*circle.r){
      score += Math.ceil(circle.r/10);
      scoreEl.textContent = score;
      // small speed up and respawn
      circle.vx *= 1.05;
      circle.vy *= 1.05;
      spawn();
    }
  });

  function update(dt){
    if(!running) return;
    circle.x += circle.vx * dt;
    circle.y += circle.vy * dt;
    if(circle.x < circle.r){ circle.x = circle.r; circle.vx *= -1 }
    if(circle.x > W - circle.r){ circle.x = W - circle.r; circle.vx *= -1 }
    if(circle.y < circle.r){ circle.y = circle.r; circle.vy *= -1 }
    if(circle.y > H - circle.r){ circle.y = H - circle.r; circle.vy *= -1 }

    // time
    timeLeft -= dt;
    if(timeLeft <= 0){ timeLeft = 0; running = false }
    timeEl.textContent = Math.ceil(timeLeft);
  }

  function draw(){
    ctx.clearRect(0,0,W,H);
    // background gradient
    const g = ctx.createLinearGradient(0,0,0,H);
    g.addColorStop(0,'#041');
    g.addColorStop(1,'#003');
    ctx.fillStyle = g;
    ctx.fillRect(0,0,W,H);

    // circle
    ctx.beginPath();
    ctx.arc(circle.x, circle.y, circle.r, 0, Math.PI*2);
    ctx.fillStyle = '#ff5722';
    ctx.fill();
    // inner glow
    ctx.beginPath();
    ctx.arc(circle.x, circle.y, circle.r*0.6, 0, Math.PI*2);
    ctx.fillStyle = 'rgba(255,255,255,0.12)';
    ctx.fill();

    if(!running){
      ctx.fillStyle = 'rgba(0,0,0,0.6)';
      ctx.fillRect(0,H/2-80,W,160);
      ctx.fillStyle = '#fff';
      ctx.textAlign = 'center';
      ctx.font = '36px sans-serif';
      ctx.fillText('Time!', W/2, H/2 - 10);
      ctx.font = '24px sans-serif';
      ctx.fillText('Final score: ' + score, W/2, H/2 + 30);
    }
  }

  function loop(now){
    const dt = Math.min(0.05, (now - last)/1000);
    last = now;
    update(dt);
    draw();
    requestAnimationFrame(loop);
  }
  requestAnimationFrame(loop);
})();
</script>
</body>
</html>
